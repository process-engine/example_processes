<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definition_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.8.0"><bpmn:collaboration id="Collaboration_1cidyxu"><bpmn:participant id="Participant_0px403d" name="FaceLogin" processRef="facelogin" /></bpmn:collaboration><bpmn:process id="facelogin" name="FaceLogin" isExecutable="false"><bpmn:laneSet><bpmn:lane id="Lane_1xzf0d3" name="Lane"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /></bpmn:extensionElements><bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef><bpmn:flowNodeRef>faceRecognition</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_0mwjuo4</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_10bbh6u</bpmn:flowNodeRef><bpmn:flowNodeRef>Task_1amrhad</bpmn:flowNodeRef><bpmn:flowNodeRef>EndEvent_1sdw2b0</bpmn:flowNodeRef><bpmn:flowNodeRef>ExclusiveGateway_0cmrwkp</bpmn:flowNodeRef></bpmn:lane></bpmn:laneSet><bpmn:startEvent id="StartEvent_1" name="FaceLogin"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties><camunda:property name="uiName" value="Form" /></camunda:properties></bpmn:extensionElements><bpmn:outgoing>SequenceFlow_0c0b04h</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_1trfzyi" sourceRef="Task_0mwjuo4" targetRef="faceRecognition"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /></bpmn:extensionElements></bpmn:sequenceFlow><bpmn:serviceTask id="faceRecognition" name="Login-Daten kontrollieren"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /><camunda:properties><camunda:property name="module" value="FaceRecognitionService" /><camunda:property name="method" value="userMatchesFaceId" /><camunda:property name="params" value="[token.current.userName, token.current.faceId]" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1trfzyi</bpmn:incoming><bpmn:outgoing>SequenceFlow_14mnmin</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="Task_0mwjuo4" name="Login-Daten eingeben"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties><camunda:property name="uiName" value="Form" /></camunda:properties><camunda:formData><camunda:formField id="userName" label="Nutzername (Sie mÃ¼ssen sich zuvor mit einem Nutzernamen unter der Adresse http://localhost:3000/static/#/user-registration registrieren)." type="string" defaultValue="" /><camunda:formField id="faceId" label="FaceId (FaceId kann man auf der Seite http://localhost:3000/static/#/generate-face-id generieren)" type="string" defaultValue="" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0c0b04h</bpmn:incoming><bpmn:outgoing>SequenceFlow_1trfzyi</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="SequenceFlow_0c0b04h" sourceRef="StartEvent_1" targetRef="Task_0mwjuo4" /><bpmn:sequenceFlow id="SequenceFlow_1vd1oq5" name="" sourceRef="ExclusiveGateway_0cmrwkp" targetRef="Task_1amrhad"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current === true</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0cittth" name="" sourceRef="ExclusiveGateway_0cmrwkp" targetRef="Task_10bbh6u"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current === false</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:userTask id="Task_10bbh6u" name="Scheitern melden"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties><camunda:property name="uiName" value="Confirm" /><camunda:property name="uiConfig" value="${ &#34;message&#34;: &#34;Login ist gescheitert. Entweder passt die FaceId zum Nutzer nicht oder der Nutzer existiert nicht.&#34;, &#34;layout&#34;: [ { &#34;key&#34;: &#34;confirm&#34;, &#34;label&#34;: &#34;OK&#34; } ] };" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0cittth</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rdhnt7</bpmn:outgoing></bpmn:userTask><bpmn:userTask id="Task_1amrhad" name="Erfolg melden"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties><camunda:property name="uiName" value="Confirm" /><camunda:property name="uiConfig" value="${ &#34;message&#34;: &#34;Login erfolgreich.&#34;, &#34;layout&#34;: [ { &#34;key&#34;: &#34;confirm&#34;, &#34;label&#34;: &#34;OK&#34; } ] };" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1vd1oq5</bpmn:incoming><bpmn:outgoing>SequenceFlow_05yudq9</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="SequenceFlow_05yudq9" sourceRef="Task_1amrhad" targetRef="EndEvent_1sdw2b0"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /></bpmn:extensionElements></bpmn:sequenceFlow><bpmn:endEvent id="EndEvent_1sdw2b0" name=""><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /><camunda:properties /><camunda:properties /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05yudq9</bpmn:incoming><bpmn:incoming>SequenceFlow_0rdhnt7</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_0rdhnt7" sourceRef="Task_10bbh6u" targetRef="EndEvent_1sdw2b0"><bpmn:extensionElements><camunda:executionListener class="" event="" /><camunda:properties /></bpmn:extensionElements></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_14mnmin" name="" sourceRef="faceRecognition" targetRef="ExclusiveGateway_0cmrwkp" /><bpmn:exclusiveGateway id="ExclusiveGateway_0cmrwkp" name=""><bpmn:incoming>SequenceFlow_14mnmin</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vd1oq5</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0cittth</bpmn:outgoing></bpmn:exclusiveGateway></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1cidyxu"><bpmndi:BPMNShape id="Participant_0px403d_di" bpmnElement="Participant_0px403d"><dc:Bounds x="5" y="4" width="890" height="260" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="101" y="65" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="109" y="101" width="21" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="Lane_1xzf0d3_di" bpmnElement="Lane_1xzf0d3"><dc:Bounds x="35" y="4" width="860" height="260" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1sdw2b0_di" bpmnElement="EndEvent_1sdw2b0"><dc:Bounds x="836" y="121" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="809" y="160" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_1trfzyi_di" bpmnElement="SequenceFlow_1trfzyi"><di:waypoint x="287" y="83" /><di:waypoint x="353" y="83" /><bpmndi:BPMNLabel><dc:Bounds x="275" y="61.5" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="ServiceTask_13yg7ly_di" bpmnElement="faceRecognition"><dc:Bounds x="353" y="43" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0ldzuph_di" bpmnElement="Task_0mwjuo4"><dc:Bounds x="187" y="43" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_0c0b04h_di" bpmnElement="SequenceFlow_0c0b04h"><di:waypoint x="137" y="83" /><di:waypoint x="187" y="83" /><bpmndi:BPMNLabel><dc:Bounds x="162" y="61" width="0" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="ExclusiveGateway_0cmrwkp_di" bpmnElement="ExclusiveGateway_0cmrwkp" isMarkerVisible="true"><dc:Bounds x="503" y="58" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="483" y="111" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_1vd1oq5_di" bpmnElement="SequenceFlow_1vd1oq5"><di:waypoint x="553" y="83" /><di:waypoint x="591" y="83" /><di:waypoint x="591" y="83" /><di:waypoint x="629" y="83" /><bpmndi:BPMNLabel><dc:Bounds x="561" y="76.5" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0cittth_di" bpmnElement="SequenceFlow_0cittth"><di:waypoint x="528" y="108" /><di:waypoint x="528" y="189" /><di:waypoint x="628" y="189" /><bpmndi:BPMNLabel><dc:Bounds x="498" y="142" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="UserTask_1tbz58t_di" bpmnElement="Task_10bbh6u"><dc:Bounds x="628" y="150" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0950pn1_di" bpmnElement="Task_1amrhad"><dc:Bounds x="629" y="43" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_05yudq9_di" bpmnElement="SequenceFlow_05yudq9"><di:waypoint x="729" y="83" /><di:waypoint x="854" y="83" /><di:waypoint x="854" y="121" /><bpmndi:BPMNLabel><dc:Bounds x="746.5" y="61.5" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rdhnt7_di" bpmnElement="SequenceFlow_0rdhnt7"><di:waypoint x="728" y="190" /><di:waypoint x="854" y="190" /><di:waypoint x="854" y="157" /><bpmndi:BPMNLabel><dc:Bounds x="746" y="168.5" width="90" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14mnmin_di" bpmnElement="SequenceFlow_14mnmin"><di:waypoint x="453" y="83" /><di:waypoint x="478" y="83" /><di:waypoint x="478" y="83" /><di:waypoint x="503" y="83" /><bpmndi:BPMNLabel><dc:Bounds x="493" y="76.5" width="0" height="13" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
